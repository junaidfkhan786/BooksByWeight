<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="line-scale-pulse-out" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
  </ngx-spinner>

<div class="row g-2">
    <div class="col-md" [hidden] = "!div">

        <div>
            <div class="card p-2 btc">
                <span class="font-weight-bolder org text-center" style="font-size: large;">ADDRESS
                </span>
            </div>
            <br>
            <form #addform="ngForm" id="address">
                <div class="input-group">
                    <input [(ngModel)]="add.fullname" name="fullname" type="text" class="form-control"
                        placeholder="Enter Full Name*" #fullName required>
                </div>
                <br>
                <div class="input-group">
                  <input [(ngModel)]="add.email" name="email" type="text"
                      class="form-control" placeholder="Enter email*" #email required>
              </div>
              <br>
                <div class="row g-2">
                    <div class="col-md-12">
                        <div class="input-group">
                            <input  [(ngModel)]="add.mobilenumber" type="text" name="mobilenumber" class="form-control"
                                placeholder="Enter Phone-Number*"
                                numbersOnly
                                autocomplete="off" maxlength="10" #mobileNumber required>
                        </div>
                    </div>
                    <br>
                    <div class="col-md-12">
                        <div class="input-group">
                            <input [(ngModel)]="add.alternatephonenumber" name="alternatephonenumber" type="text"
                                class="form-control" placeholder="Enter Alternate Phone-Number(Optional)"
                                aria-label="mobile-number"
                                numbersOnly
                                autocomplete="off" maxlength="10" #alternatephonenumber>
                        </div>
                    </div>
                </div>
                <br>
                <div class="input-group">
                    <textarea [(ngModel)]="add.address" name="address" type="text" class="form-control"
                        placeholder="Enter Address*" #address required></textarea>
                </div>
                <br>
                <div class="row g-2">
                    <div class="col">
                        <div class="input-group">
                            <input [(ngModel)]="add.state" name="state" type="text" class="form-control"
                                placeholder="Enter State*" #state required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group">
                            <input [(ngModel)]="add.city" name="city" type="text" class="form-control"
                                placeholder="Enter City*" #city required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group">
                            <input [(ngModel)]="add.landmark" name="landmark" type="text" class="form-control"
                                placeholder="Enter Landmark*" #landmark required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group">
                            <input [(ngModel)]="add.pincode" numbersOnly name="pincode" type="text" class="form-control"
                                placeholder="Enter Pin-Code*" #pinCode required>
                        </div>
                    </div>
                </div>
                <br>
                <div class="d-flex justify-content-center">
                    <button class="btn btn-success" [disabled]="addform.invalid" style="border-radius: 0;"
                        (click)="submitadd();"> {{formbutton? 'Update Address': 'Add Address'}} </button>
                </div>
            </form>
        </div>

    </div>
    <div class="col-md table-responsive" *ngIf="but" >
        <table class="table table-hover">
            <thead>
                <tr>
                    <!-- <th scope="col">
                    Select All &nbsp; <input class="form-check-input" type="checkbox" value="" >
                    </th> -->
                    <th scope="col">Sr No</th>
                    <th scope="col">Fullname</th>
                    <th scope="col">Mob No</th>
                    <th scope="col">Alternate Mob No</th>
                    <th scope="col">Address</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
                </tr>
            </thead>
            <tbody class="align-middle">
                <tr  *ngFor="let add of address1.address; let i = index;">
                    <td>
                        {{i + 1}}
                    </td>
                    <td>
                        {{add.fullname}}
                    </td>
                    <td>
                        {{add.mobilenumber}}
                    </td>
                    <td>
                        {{add.alternatephonenumber}}
                    </td>
                    <td>
                        {{add.address }}
                        {{add.landmark}}
                        {{add.city}}
                        {{add.state}}
                        {{add.pincode}}
                    </td>
                    <td><button class="btn btn-success" style="border-radius: 0;" (click)="edit(add)" >
                            Edit This
                        </button>
                    </td>
                    <td><button (click)="del(add._id)" class="btn btn-sm btn-outline-danger" style="border-radius: 0;">
                            <span class="material-icons"
                                style="font-size: 3rem; cursor: pointer;">delete_forever</span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

            <div style="float: right;">
                <button class="btn btn-success" [hidden] = "length == 3" (click)="showadd()">{{button?'Add Address' : 'Hide Address Form'}}</button>
            </div>


    </div>
</div>
